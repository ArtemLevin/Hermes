# Hermes MVP ‚Äî –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å-–æ—Ä–≥–∞–Ω–∞–π–∑–µ—Ä –¥–ª—è —á–∞—Å—Ç–Ω–æ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–¥—É–∫—Ç (MVP) –Ω–∞ **FastAPI + React**, —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–π —á–µ—Ä–µ–∑ Docker Compose.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ü–∞–Ω–µ–ª—å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞**
  - –î–∞—à–±–æ—Ä–¥ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.
  - –†–∞–¥–∞—Ä –≤–Ω–∏–º–∞–Ω–∏—è (–ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–æ–≤).
  - –ö–∞–ª–µ–Ω–¥–∞—Ä—å-–º–æ–∑–∞–∏–∫–∞ (—É—Ä–æ–∫–∏ –∫–∞–∫ –∫–∞—Ä—Ç–æ—á–∫–∏).
- **–ü—Ä–æ—Ñ–∏–ª—å —É—á–µ–Ω–∏–∫–∞**
  - –ì–µ—Ä–æ–π-–∞–≤–∞—Ç–∞—Ä, —É—Ä–æ–≤–µ–Ω—å = –ø—Ä–æ–≥—Ä–µ—Å—Å.
  - –ë–∏–æ–≥—Ä–∞—Ñ–∏—è, —Ü–µ–ª–∏, —Ç–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –æ—à–∏–±–æ–∫.
  - –õ–µ–Ω—Ç–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π.
- **–£—á—ë—Ç —É—Ä–æ–∫–æ–≤ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤**
  - –¢—Ä–µ–∫–µ—Ä –∑–∞–Ω—è—Ç–∏–π.
  - –ê–≤—Ç–æ–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.
- **–î–æ–º–∞—à–∫–∞ –∫–∞–∫ –∫–≤–µ—Å—Ç**
  - –ß–µ–∫-–ª–∏—Å—Ç—ã, –Ω–∞–≥—Ä–∞–¥—ã, —Å—Ç–∞—Ç—É—Å—ã.
- **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –º–æ–¥—É–ª—å**
  - –£—á—ë—Ç –æ–ø–ª–∞—Ç, —Å—Ç–∞—Ç—É—Å—ã, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è.
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
  - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç —Ä–æ–¥–∏—Ç–µ–ª—è–º.
  - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –î–ó, —É—Ä–æ–∫–∞—Ö –∏ –æ–ø–ª–∞—Ç–µ.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ api/               # Backend (FastAPI)
‚îÇ  ‚îú‚îÄ main.py
‚îÇ  ‚îú‚îÄ models.py
‚îÇ  ‚îú‚îÄ routers/
‚îÇ  ‚îú‚îÄ alembic/
‚îÇ  ‚îú‚îÄ scripts/
‚îÇ  ‚îî‚îÄ tests/
‚îú‚îÄ web/               # Frontend (React + Vite)
‚îÇ  ‚îî‚îÄ src/pages/
‚îú‚îÄ docker-compose.yml
‚îú‚îÄ Makefile
‚îú‚îÄ .env.sample
‚îî‚îÄ pyproject.toml (–∏–ª–∏ requirements.txt)
```

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞
```bash
git clone https://github.com/ArtemLevin/Hermes.git
cd Hermes
cp .env.sample .env
```

### 2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
make up
make migrate
make seed
```

### 3. –î–æ—Å—Ç—É–ø—ã
- **Backend (Swagger/OpenAPI):** http://localhost:8000/docs  
- **Frontend (React):** http://localhost:5173/  
- **Mailhog (—Ç–µ—Å—Ç –ø–æ—á—Ç—ã):** http://localhost:8025/  

–î–µ–º–æ-–ª–æ–≥–∏–Ω:  
```
email: tutor@example.com
pass:  tutor
```

---

## üìä UML-–¥–∏–∞–≥—Ä–∞–º–º—ã

### –ü—Ä–æ—Ü–µ—Å—Å: –°–æ–∑–¥–∞–Ω–∏–µ —É—Ä–æ–∫–∞
```mermaid
sequenceDiagram
    participant T as Tutor
    participant FE as Frontend
    participant API as FastAPI
    participant DB as PostgreSQL

    T->>FE: –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É —É—Ä–æ–∫–∞
    FE->>API: POST /lessons
    API->>DB: INSERT lesson
    DB-->>API: OK
    API-->>FE: 201 Created (lesson_id)
    FE-->>T: –£—Ä–æ–∫ —Å–æ–∑–¥–∞–Ω (–∫–∞—Ä—Ç–æ—á–∫–∞ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ)
```

### –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è (–î–ó)
```mermaid
stateDiagram-v2
    [*] --> Created
    Created --> InProgress: –°—Ç—É–¥–µ–Ω—Ç –Ω–∞—á–∞–ª
    InProgress --> Submitted: –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ—à–µ–Ω–∏—è
    Submitted --> Reviewed: –†–µ–ø–µ—Ç–∏—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä–∏–ª
    Submitted --> Overdue: –ò—Å—Ç—ë–∫ —Å—Ä–æ–∫
    Reviewed --> Done: –ü—Ä–∏–Ω—è—Ç–æ
```

### –°—Ö–µ–º–∞ –ë–î (–∫–ª—é—á–µ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã)
```mermaid
erDiagram
    USER ||--o{ STUDENT_PROFILE : owns
    STUDENT_PROFILE ||--o{ LESSON : has
    STUDENT_PROFILE ||--o{ ASSIGNMENT : has
    ASSIGNMENT ||--o{ SUBMISSION : has
    STUDENT_PROFILE ||--o{ PAYMENT : has
    PAYMENT ||--o{ INVOICE : grouped_in
    STUDENT_PROFILE ||--o{ ACHIEVEMENT : earns
    STUDENT_PROFILE ||--o{ TROPHY : collects
    STUDENT_PROFILE ||--o{ ERROR_HOTSPOT : generates
    LESSON ||--o{ MATERIAL : attaches
```

### –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç —Ä–æ–¥–∏—Ç–µ–ª—è–º
```mermaid
flowchart TD
    A["CRON: –∫–∞–∂–¥—É—é —Å—É–±–±–æ—Ç—É"] --> B["–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –ø–æ —É—á–µ–Ω–∏–∫–∞–º"]
    B --> C["–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–π–¥–∂–µ—Å—Ç–∞: –ø—Ä–æ–≥—Ä–µ—Å—Å, —É—Ä–æ–∫–∏, –î–ó"]
    C --> D["–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∏—Å—å–º–∞ (Jinja-—à–∞–±–ª–æ–Ω)"]
    D --> E["–û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ SMTP"]
    E --> F{"–£—Å–ø–µ—Ö?"}
    F -->|–î–∞| G["–õ–æ–≥: –ø–∏—Å—å–º–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ"]
    F -->|–ù–µ—Ç| H["–ü–æ–≤—Ç–æ—Ä / DLQ –≤ Redis"]
```

---

## üîß –ö–æ–º–∞–Ω–¥—ã Makefile

- `make up` ‚Äî —Å–æ–±—Ä–∞—Ç—å –∏ –ø–æ–¥–Ω—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.  
- `make down` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã/volumes.  
- `make migrate` ‚Äî –ø—Ä–∏–º–µ–Ω–∏—Ç—å Alembic –º–∏–≥—Ä–∞—Ü–∏–∏.  
- `make seed` ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ.  
- `make smoke` ‚Äî –ø—Ä–æ–≥–Ω–∞—Ç—å –±—ã—Å—Ç—Ä—ã–π smoke-—Ç–µ—Å—Ç API.  

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ (DoD)

- –ü–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è `docker-compose up` ‚Üí Swagger –∏ Frontend –¥–æ—Å—Ç—É–ø–Ω—ã.  
- –ú–æ–∂–Ω–æ: –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —É—á–µ–Ω–∏–∫–∞, —Å–æ–∑–¥–∞—Ç—å —É—Ä–æ–∫, –≤—ã–¥–∞—Ç—å –î–ó, –ø–æ–ª—É—á–∏—Ç—å –ø–∏—Å—å–º–æ –≤ Mailhog.  
- –û—Å–Ω–æ–≤–Ω—ã–µ API –æ—Ç–≤–µ—á–∞—é—Ç <200 –º—Å –Ω–∞ dev-—Å—Ç–µ–Ω–¥–µ.  
- –õ–∏–Ω—Ç–µ—Ä + —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç:  
  ```bash
  ruff check api
  pytest -q
  ```

---

## üìå –î–∞–ª—å–Ω–µ–π—à–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞

- –ú–µ—Ç—Ä–∏–∫–∏ (Prometheus/Grafana).  
- –†–∞–¥–∞—Ä –≤–Ω–∏–º–∞–Ω–∏—è –∏ –ø—Ä–æ–≥–Ω–æ–∑ —ç–∫–∑–∞–º–µ–Ω–∞.  
- –¢—É—Ä–Ω–∏—Ä—ã, –º–µ–º—ã –∏ —á–∞—Ç-–±–æ—Ç-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç.  
- –≠–∫—Å–ø–æ—Ä—Ç PDF –æ—Ç—á—ë—Ç–æ–≤ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π.  
